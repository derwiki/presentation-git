<!doctype html>
<html lang='en'>
  <head>
    <meta charset='utf-8' />
    <title>Using git effectively | Adam Derewecki</title>
    <meta content='Adam Derewecki' name='author' />
    <link href='http://fonts.googleapis.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css' />
    <link href='reveal/css/reset.css' rel='stylesheet' />
    <link href='reveal/css/main.css' rel='stylesheet' />
    <link href='highlight/src/styles/solarized_dark.css' rel='stylesheet' />
    <link href='presentation.css' rel='stylesheet' />
  </head>
  <body id='presentation'>
    <div class='reveal'>
      <div class='slides'>
        <section>
          <h2>Using git effectiely</h2>
          <h4>
            <div class='live'>
              Live
              <a href='is.gd/derwiki_git'>
                is.gd/derwiki_git
              </a>
            </div>
            <div class='source'>
              Source
              <a href='//github.com/derwiki/presentation-git'>
                github.com/derwiki/presentation-git
              </a>
            </div>
          </h4>
          <br />
          <h5>presented by</h5>
          <h4>@derwiki</h4>
          <h4></h4>
          <h4>for AdRoll, March 31, 2015</h4>
        </section>
        <section>
          <h3>What is git?</h3>
          <ul>
            <li class='fragment'>
              Version control system like SVN, CVS, RCS, mercurial, etc
            </li>
            <li class='fragment'>
              File systems keep track of directories, files, and contents
            </li>
            <li class='fragment'>
              File systems only care about the current state
            </li>
            <li class='fragment'>
              Installing git to part of a filesystem and creating "savepoints"
              (commits) allows you to easily navigate between different states
              the filesystem has been in
            </li>
          </ul>
        </section>
        <section>
          <h3>Controlling git</h3>
          <ul>
            <li class='fragment'>
              There are only 156 commands (
              <span class='ms'>git help --all</span>
              )
            </li>
            <li class='fragment'>
              <div class='git-col'>
                <p>add</p>
                <p>add--interactive</p>
                <p>am</p>
                <p>annotate</p>
                <p>apply</p>
                <p>archimport</p>
                <p>archive</p>
                <p>bisect</p>
                <p>bisect--helper</p>
                <p>blame</p>
                <p>branch</p>
                <p>bundle</p>
                <p>cat-file</p>
                <p>check-attr</p>
                <p>check-ignore</p>
                <p>check-mailmap</p>
                <p>check-ref-format</p>
                <p>checkout</p>
                <p>checkout-index</p>
                <p>cherry</p>
                <p>cherry-pick</p>
                <p>citool</p>
                <p>clean</p>
                <p>clone</p>
                <p>column</p>
                <p>commit</p>
                <p>commit-tree</p>
                <p>config</p>
                <p>count-objects</p>
                <p>credential</p>
                <p>credential-cache</p>
                <p>credential-cache--daemon</p>
                <p>credential-osxkeychain</p>
                <p>credential-store</p>
                <p>cvsexportcommit</p>
                <p>cvsimport</p>
                <p>cvsserver</p>
                <p>daemon</p>
                <p>describe</p>
                <p>diff</p>
                <p>diff-files</p>
                <p>diff-index</p>
                <p>diff-tree</p>
                <p>difftool</p>
                <p>difftool--helper</p>
                <p>fast-export</p>
                <p>fast-import</p>
                <p>fetch</p>
                <p>fetch-pack</p>
                <p>filter-branch</p>
                <p>fmt-merge-msg</p>
                <p>for-each-ref</p>
                <p>format-patch</p>
                <p>fsck</p>
                <p>fsck-objects</p>
                <p>gc</p>
                <p>get-tar-commit-id</p>
                <p>grep</p>
                <p>gui</p>
                <p>gui--askpass</p>
                <p>hash-object</p>
                <p>help</p>
                <p>http-backend</p>
                <p>http-fetch</p>
                <p>http-push</p>
                <p>imap-send</p>
                <p>index-pack</p>
                <p>init</p>
                <p>init-db</p>
                <p>instaweb</p>
                <p>log</p>
                <p>ls-files</p>
                <p>ls-remote</p>
                <p>ls-tree</p>
                <p>mailinfo</p>
                <p>mailsplit</p>
                <p>merge</p>
                <p>merge-base</p>
                <p>merge-file</p>
                <p>merge-index</p>
                <p>merge-octopus</p>
                <p>merge-one-file</p>
                <p>merge-ours</p>
                <p>merge-recursive</p>
                <p>merge-resolve</p>
                <p>merge-subtree</p>
                <p>merge-tree</p>
                <p>mergetool</p>
                <p>mktag</p>
                <p>mktree</p>
                <p>mv</p>
                <p>name-rev</p>
                <p>notes</p>
                <p>p4</p>
                <p>pack-objects</p>
                <p>pack-redundant</p>
                <p>pack-refs</p>
                <p>patch-id</p>
                <p>prune</p>
                <p>prune-packed</p>
                <p>pull</p>
                <p>push</p>
                <p>quiltimport</p>
                <p>read-tree</p>
                <p>rebase</p>
                <p>receive-pack</p>
                <p>reflog</p>
                <p>relink</p>
                <p>remote</p>
                <p>remote-ext</p>
                <p>remote-fd</p>
                <p>remote-ftp</p>
                <p>remote-ftps</p>
                <p>remote-http</p>
                <p>remote-https</p>
                <p>remote-testsvn</p>
                <p>repack</p>
                <p>replace</p>
                <p>request-pull</p>
                <p>rerere</p>
                <p>reset</p>
                <p>rev-list</p>
                <p>rev-parse</p>
                <p>revert</p>
                <p>rm</p>
                <p>send-email</p>
                <p>send-pack</p>
                <p>sh-i18n--envsubst</p>
                <p>shell</p>
                <p>shortlog</p>
                <p>show</p>
                <p>show-branch</p>
                <p>show-index</p>
                <p>show-ref</p>
                <p>stage</p>
                <p>stash</p>
                <p>status</p>
                <p>stripspace</p>
                <p>submodule</p>
                <p>subtree</p>
                <p>svn</p>
                <p>symbolic-ref</p>
                <p>tag</p>
                <p>unpack-file</p>
                <p>unpack-objects</p>
                <p>update-index</p>
                <p>update-ref</p>
                <p>update-server-info</p>
                <p>upload-archive</p>
                <p>upload-pack</p>
                <p>var</p>
                <p>verify-pack</p>
                <p>verify-tag</p>
                <p>web--browse</p>
                <p>whatchanged</p>
                <p>write-tree</p>
              </div>
            </li>
            <li class='fragment'>
              We're going to cover them
              <b>all</b>
            </li>
            <li class='fragment'>
              ~20 seconds per command, so let's dive in
            </li>
          </ul>
        </section>
        <section class='text-center'>
          <img src='assets/trollface.png' style='height: 400px; align: center;' />
          <div>jk/lol</div>
        </section>
        <section>
          <h3>Installing git to a directory</h3>
          <ul>
            <li class='fragment'>
              <div class='ms'>git init</div>
            </li>
            <li class='fragment'>
              Creates a
              <span class='ms'>.git</span>
              directory in your directory alongside everything else that was
              there
            </li>
            <li class='fragment'>
              <span class='ms'>.git</span>
              contains: the object model, database of the object model, and
              other project configurations
            </li>
          </ul>
        </section>
        <section>
          <h3 class='ms'>$ tree .git/</h3>
          <code><pre>.git&#x000A;├── COMMIT_EDITMSG&#x000A;├── HEAD&#x000A;├── config&#x000A;├── description&#x000A;├── hooks&#x000A;│   ├── pre-commit&#x000A;├── index&#x000A;├── info&#x000A;│   └── exclude&#x000A;├── logs&#x000A;│   ├── HEAD&#x000A;│   └── refs&#x000A;│       └── heads&#x000A;│           ├── adam-style-index&#x000A;│           └── master&#x000A;├── objects&#x000A;│   ├── 01&#x000A;│   │   └── ef3e6630af133b41bd954e220f31231aa281d9</pre></code>
        </section>
        <section>
          <h3>Objects: blobs and trees</h3>
          <ul>
            <li class='fragment'>
              <b>blob:</b>
              contents of a file
            </li>
            <li class='fragment'>
              <b>tree:</b>
              record of a directory in a specific state
            </li>
            <li class='fragment'>
              i.e. list of blobs and trees in the current tree
            </li>
          </ul>
          <div class='fragment'>
            <code><pre>$ git ls-tree HEAD&#x000A;100644 blob 050c9d95c7e2ec43e92b19e6719ab522f580a2a8  .gitignore&#x000A;100644 blob 45e30c639e2eb1c93ee7ca8eb89b120dc6d46391  Gemfile&#x000A;100644 blob 6136bceb0bbe82b4f5786e003c1e6e5a9fa9d976  Gemfile.lock&#x000A;100644 blob dd4e97e22e159a585b20e21028f964827d5afa4e  README.rdoc&#x000A;100644 blob ba6b733dd2358d858f00445ebd91c214f0f5d2e5  Rakefile&#x000A;040000 tree 9149e8d1f244078f92a48197be0ea0e89feb1df3  app&#x000A;040000 tree 19b9d6c8a39c3ecc9e985b34af88ab219e07df75  bin&#x000A;100644 blob bd83b25412305f93fdb0a892aded30e5178899ba  config.ru&#x000A;040000 tree 395350c15f688e10ef8115eaf609fcfafcf51bea  config&#x000A;040000 tree 602980f52d9fe985bf9f9ec25c77513b51a42d52  db&#x000A;040000 tree 07d89d0b7e50929dea0dcf7e7354358c1133be86  lib&#x000A;040000 tree 29a422c19251aeaeb907175e9b3219a9bed6c616  log&#x000A;040000 tree 23a3236904020a96c2a827875e3e065213747cda  public&#x000A;040000 tree 03fb84ec8cc53685767345fd32d53af59762c622  test&#x000A;040000 tree 8084e8e04d510cc28321f30a9646477cc50c235c  vendor</pre></code>
          </div>
        </section>
        <section>
          <h3 class='ms'>git show 050c9d95</h3>
          <code><pre>$ git show 050c9d95 # the SHA1 of .gitignore's blob&#x000A;# See https://help.github.com/articles/ignoring-files for more&#x000A;#&#x000A;# If you find yourself ignoring temporary files generated by&#x000A;# or operating system, you probably want to add a global ignore&#x000A;#   git config --global core.excludesfile '~/.gitignore_global'&#x000A;# Ignore bundler config.&#x000A;/.bundle&#x000A;# Ignore the default SQLite database.&#x000A;/db/*.sqlite3&#x000A;/db/*.sqlite3-journal&#x000A;# Ignore all logfiles and tempfiles.&#x000A;/log/*&#x000A;!/log/.keep&#x000A;/tmp</pre></code>
        </section>
        <section>
          <h3>Objects: commits</h3>
          <ul>
            <li class='fragment'>
              <b>commit:</b>
              attached to a tree (which is a snapshot of a directory in it's
              current state)
            </li>
            <li class='fragment'>
              Contains metadata: author, when the tree was modified, commit
              message, etc
            </li>
            <li class='fragment'>
              <b>Only</b>
              contains information about the current commit
            </li>
            <li class='fragment'>
              i.e. how the tree differs from the tree of the most recent commit
            </li>
            <li class='fragment'>
              Commits contain references to their
              <b>parents commit(s)</b>
            </li>
            <li class='fragment'>
              You can traverse up parent commits if you need information prior
              to the current commit
            </li>
          </ul>
        </section>
        <section>
          <h3>Object relationships</h3>
          <img src='assets/commit-tree-blob.jpg' />
        </section>
        <section>
          <h3>Family tree</h3>
          <img src='assets/git-ancestry.jpg' />
        </section>
        <section>
          <h3>Raw commit</h3>
          <code><pre>$ git show --format=raw&#x000A;commit 67ee28dcc27ee5ab59061ae47a0b81dd19888274&#x000A;<b>tree e7dd337b5f247393f9f23e03eef3a176eb32e1a1</b>&#x000A;<b>parent 78e5e7abdb69d32f886e950b3329fdc0c249f6dd</b>&#x000A;author Adam Derewecki <derewecki@gmail.com> 1427591530 -0700&#x000A;committer Adam Derewecki <derewecki@gmail.com> 1427591530 -0700&#x000A;    Initial db/schema.rb&#x000A;<br />&#x000A;diff --git a/db/schema.rb b/db/schema.rb&#x000A;new file mode 100644&#x000A;index 0000000..9affc04&#x000A;--- /dev/null&#x000A;+++ b/db/schema.rb&#x000A;@@ -0,0 +1,24 @@&#x000A;+# encoding: UTF-8&#x000A;+# This file is auto-generated from the current state of the&#x000A;+# of editing this file, please use the migrations feature of&#x000A;+# incrementally modify your database, and then regenerate</pre></code>
        </section>
        <section>
          <h3>SHA-1 hashes</h3>
          <ul>
            <li class='fragment'>
              Hashing algorithm used to identify all objects
            </li>
            <li class='fragment'>
              blob: changing the file contents changes SHA-1
            </li>
            <li class='fragment'>
              tree: adding/removing a subtree, changing a blob changes SHA-1
            </li>
            <li class='fragment'>
              commit: changing blob, tree, or commit metadata changes SHA-1
            </li>
          </ul>
        </section>
        <section>
          <h3>Raw commit</h3>
          <code><pre style='font-size: 14px;'>$ git show --format=raw | head -n 7&#x000A;<br />&#x000A;commit 67ee28dcc27ee5ab59061ae47a0b81dd19888274&#x000A;tree e7dd337b5f247393f9f23e03eef3a176eb32e1a1&#x000A;parent 78e5e7abdb69d32f886e950b3329fdc0c249f6dd&#x000A;author Adam Derewecki <derewecki@gmail.com> 1427591530 -0700&#x000A;committer Adam Derewecki <derewecki@gmail.com> 1427591530 -0700&#x000A;    Initial db/schema.rb&#x000A;<br />&#x000A;$ git commit --amend -m "Initial db/schema.rb (revised)"&#x000A;<br />&#x000A;[adam/style-index b7eabfc] Initial db/schema.rb (revised)&#x000A; Date: Sat Mar 28 18:12:10 2015 -0700&#x000A; 1 file changed, 24 insertions(+)&#x000A; create mode 100644 db/schema.rb&#x000A;<br />&#x000A;$ git show --format=raw | head -n 7&#x000A;<br />&#x000A;commit b7eabfc8b46f259eee072cb6c79595452b72331b&#x000A;tree e7dd337b5f247393f9f23e03eef3a176eb32e1a1&#x000A;parent 78e5e7abdb69d32f886e950b3329fdc0c249f6dd&#x000A;author Adam Derewecki <derewecki@gmail.com> 1427591530 -0700&#x000A;committer Adam Derewecki <derewecki@gmail.com> 1427610295 -0700&#x000A;    Initial db/schema.rb (revised)</pre></code>
        </section>
        <section>
          <h3>
            <span class='ms'>HEAD</span>
            pointer
          </h3>
          <ul>
            <li class='fragment'>
              HEAD: pointer to the currently checked out commit
            </li>
            <li class='fragment'>
              i.e. the head of the current branch
            </li>
            <li class='fragment'>
              HEAD^: the parent of HEAD
            </li>
            <li class='fragment'>
              HEAD~2: the grandparent of HEAD
            </li>
            <li class='fragment'>
              <code><pre>$ cat .git/HEAD&#x000A;ref: refs/heads/master&#x000A;$ cat .git/refs/heads/master&#x000A;67ee28dcc27ee5ab59061ae47a0b81dd19888274&#x000A;$ git rev-parse HEAD&#x000A;67ee28dcc27ee5ab59061ae47a0b81dd19888274</pre></code>
            </li>
          </ul>
        </section>
        <section>
          <h3>Branch pointers</h3>
          <ul style='width: 100%'>
            <li class='fragment'>
              <code><pre>$ git branch -v&#x000A;  adam/style-index ddf0c20 Add styling to tweet#index&#x000A;  grant/style-new  28bbd41 Convert tweet#new, tweet#form&#x000A;* master           67ee28d Initial db/schema.rb</pre></code>
            </li>
            <li class='fragment'>
              <code><pre>$ tree .git/refs/heads/&#x000A;.git/refs/heads/&#x000A;├── adam&#x000A;│   └── style-index&#x000A;├── grant&#x000A;│   └── style-new&#x000A;└── master&#x000A;$ cat .git/refs/heads/master&#x000A;2c75ffc1b6c0f5e4a8265bac78ba0640e236cc86</pre></code>
            </li>
            <li class='fragment'>
              <span class='ms'>git checkout -b $newbranch</span>
            </li>
            <li class='fragment'>
              Creates branch
              <span class='ms'>$newbranch</span>
              from current HEAD
            </li>
          </ul>
        </section>
        <section>
          <h3>Fast-forwards</h3>
          <ul>
            <li class='fragment'>
              e.g. your local
              <span class='ms'>master</span>
              is 5 commits behind
              <span class='ms'>origin/master</span>
            </li>
            <li class='fragment'>
              <img src='assets/fast-forward.jpg' />
            </li>
            <li class='fragment'>
              To update your local
              <span class='ms'>master,</span>
              you can fast-forward to
              <span class='ms'>origin/master</span>
            </li>
            <li class='fragment'>
              <span class='ms'>git pull origin master --ff-only</span>
            </li>
          </ul>
        </section>
        <section>
          <h3>
            Moving backwards with
            <span class='ms'>reset</span>
          </h3>
          <ul>
            <li class='fragment'>
              e.g. moving backwards two commits
            </li>
            <li class='fragment'>
              <img src='assets/reset-backwards.jpg' />
            </li>
            <li class='fragment'>
              <span class='ms'>git reset master^^</span>
            </li>
            <li class='fragment'>
              <b>Only</b>
              changes HEAD
            </li>
            <li class='fragment'>
              The changes contained in commits 'a' and 'b' are now un-staged
              changes
            </li>
          </ul>
        </section>
        <section>
          <h3 class='ms'>git reset HEAD^^</h3>
          <code><pre>$ git status&#x000A;On branch master&#x000A;nothing to commit, working directory clean&#x000A;<br />&#x000A;$ git log --oneline&#x000A;67ee28d (HEAD, master) Initial db/schema.rb&#x000A;78e5e7a Add scaffolding for Tweet&#x000A;2328d04 Add bootstrap, haml, remove spring&#x000A;9ba1482 rails new TwitterClone&#x000A;<br />&#x000A;$ git reset HEAD^^&#x000A;Unstaged changes after reset:&#x000A;M config/routes.rb&#x000A;<br />&#x000A;$ git log --oneline&#x000A;2328d04 (HEAD, master) Add bootstrap, haml, remove spring&#x000A;9ba1482 rails new TwitterClone&#x000A;<br />&#x000A;$ git status&#x000A;On branch master&#x000A;Changes not staged for commit:&#x000A;  (use "git add <file>..." to update what will be committed)&#x000A;  (use "git checkout -- <file>..." to discard changes in working directory)&#x000A;        modified:   config/routes.rb&#x000A;<br />&#x000A;Untracked files:&#x000A;  (use "git add <file>..." to include in what will be committed)&#x000A;        app/assets/stylesheets/tweets.scss&#x000A;        app/controllers/tweets_controller.rb&#x000A;        app/models/tweet.rb&#x000A;        app/views/tweets/&#x000A;        db/migrate/&#x000A;        db/schema.rb</pre></code>
        </section>
        <section>
          <h3 class='ms'>git reset --hard</h3>
          <ul>
            <li class='fragment'>
              Moves HEAD
              <b>and</b>
              discards changes, instead of leaving them in working tree
            </li>
            <li class='fragment'>
              <code><pre>$ git log --oneline&#x000A;bc9f9f5 (HEAD, master) Remove comments from Gemfile&#x000A;6c8cd70 Add bootstrap to and scss'ed application.scss&#x000A;67ee28d Initial db/schema.rb&#x000A;78e5e7a Add scaffolding for Tweet&#x000A;2328d04 Add bootstrap, haml, remove spring&#x000A;9ba1482 rails new TwitterClone&#x000A;<br />&#x000A;$ git reset --hard HEAD^^&#x000A;HEAD is now at 67ee28d Initial db/schema.rb&#x000A;<br />&#x000A;$ git log --oneline&#x000A;67ee28d (HEAD, master) Initial db/schema.rb&#x000A;78e5e7a Add scaffolding for Tweet&#x000A;2328d04 Add bootstrap, haml, remove spring&#x000A;9ba1482 rails new TwitterClone&#x000A;<br />&#x000A;$ git status&#x000A;On branch master&#x000A;nothing to commit, working directory clean</pre></code>
            </li>
          </ul>
        </section>
        <section>
          <h3 class='ms'>git reset --hard</h3>
          <ul>
            <li class='fragment'>
              Can be used to reset to any arbitrary commit
            </li>
            <li class='fragment'>
              Reliable way to set any branch to origin's master
            </li>
            <li class='fragment'>
              <code><pre>$ git fetch origin&#x000A;Fetching repository, done.&#x000A;<br />&#x000A;$ git reset --hard origin/master&#x000A;HEAD is now at 67ee28d Initial db/schema.rb</pre></code>
            </li>
            <li class='fragment'>
              <span class='ms'>git reset --hard SHA1</span>
              is equivalent to
              <span class='ms'>git reset SHA1 ; git clean -xdf</span>
            </li>
          </ul>
        </section>
        <section>
          <h3>Working tree</h3>
          <ul>
            <li class='fragment'>
              Tree object that represents the current state of the filesystem
            </li>
            <li class='fragment'>
              If there are no changes from the most recent commit, the working
              tree is the same as the commit's tree
            </li>
            <li class='fragment'>
              <span class='ms'>git diff</span>
              to view differences between the most recent commit's tree and
              the working tree
            </li>
            <li class='fragment'>
              <code><pre>$ git diff&#x000A;diff --git a/Gemfile b/Gemfile&#x000A;index 45e30c6..c20f939 100644&#x000A;--- a/Gemfile&#x000A;+++ b/Gemfile&#x000A;@@ -1,47 +1,22 @@&#x000A; source 'https://rubygems.org'&#x000A;-&#x000A;-# Bundle edge Rails instead: gem 'rails', github: 'rails/rails'&#x000A; gem 'rails', '4.2.0'&#x000A;-# Use sqlite3 as the database for Active Record&#x000A; gem 'sqlite3'&#x000A;-# Use SCSS for stylesheets&#x000A; gem 'sass-rails', '~> 5.0'&#x000A;-# Use Uglifier as compressor for JavaScript assets&#x000A; gem 'uglifier', '>= 1.3.0'&#x000A;-# Use CoffeeScript for .coffee assets and views&#x000A; gem 'coffee-rails', '~> 4.1.0'&#x000A;-# See https://github.com/sstephenson/execjs#readme for more supported runtimes&#x000A;-# gem 'therubyracer', platforms: :ruby&#x000A; group :production do&#x000A;   gem 'pg'&#x000A; end</pre></code>
            </li>
          </ul>
        </section>
        <section>
          <h3>Index / staging area</h3>
          <ul>
            <li class='fragment'>
              Work tree: the tree of in progress changes that are currently
              ahead of the most recent commit
            </li>
            <li class='fragment'>
              Index: a "staging area" between the work tree and the most
              recent commit
            </li>
            <li class='fragment'>
              Used to prepare the next commit
            </li>
            <li class='fragment'>
              Stage entire file/directory:
            </li>
            <li class='fragment'>
              <span class='ms'>git add foo/ bar.py</span>
            </li>
          </ul>
        </section>
        <section>
          <h3 class='ms'>git add --patch</h3>
          <code><pre>$ git add --patch&#x000A;diff --git a/app/assets/stylesheets/application.scss b/app/assets/stylesheets/application.scss&#x000A;index f9cd5b3..298db72 100644&#x000A;--- a/app/assets/stylesheets/application.scss&#x000A;+++ b/app/assets/stylesheets/application.scss&#x000A;@@ -13,3 +13,4 @@&#x000A;  *= require_tree .&#x000A;  *= require_self&#x000A;  */&#x000A;+@import "bootstrap";&#x000A;<br />&#x000A;Stage this hunk [y,n,q,a,d,/,e,?]? ?&#x000A;y - stage this hunk&#x000A;n - do not stage this hunk&#x000A;q - quit; do not stage this hunk or any of the remaining ones&#x000A;a - stage this hunk and all later hunks in the file&#x000A;d - do not stage this hunk or any of the later hunks in the file&#x000A;g - select a hunk to go to&#x000A;/ - search for a hunk matching the given regex&#x000A;j - leave this hunk undecided, see next undecided hunk&#x000A;J - leave this hunk undecided, see next hunk&#x000A;k - leave this hunk undecided, see previous undecided hunk&#x000A;K - leave this hunk undecided, see previous hunk&#x000A;s - split the current hunk into smaller hunks&#x000A;e - manually edit the current hunk&#x000A;? - print help&#x000A;@@ -13,3 +13,4 @@&#x000A;  *= require_tree .&#x000A;  *= require_self&#x000A;  */&#x000A;+@import "bootstrap";</pre></code>
        </section>
        <section>
          <h3>Inspecting the index</h3>
          <code><pre>$ git status&#x000A;On branch master&#x000A;Changes to be committed:&#x000A;  (use "git reset HEAD <file>..." to unstage)&#x000A;        renamed:    app/assets/stylesheets/application.css -> app/assets/stylesheets/application.scss&#x000A;Untracked files:&#x000A;  (use "git add <file>..." to include in what will be committed)&#x000A;        untracked-file&#x000A;<br />&#x000A;$ git diff --cached&#x000A;diff --git a/app/assets/stylesheets/application.css b/app/assets/stylesheets/application.css&#x000A;deleted file mode 100644&#x000A;index f9cd5b3..0000000&#x000A;--- a/app/assets/stylesheets/application.css&#x000A;+++ /dev/null&#x000A;@@ -1,15 +0,0 @@&#x000A;diff --git a/app/assets/stylesheets/application.scss b/app/assets/stylesheets/application.scss&#x000A;new file mode 100644&#x000A;index 0000000..298db72&#x000A;--- /dev/null&#x000A;+++ b/app/assets/stylesheets/application.scss&#x000A;@@ -0,0 +1,16 @@&#x000A;+@import "bootstrap";</pre></code>
        </section>
        <section>
          <h3>Creating a commit</h3>
          <ul>
            <li class='fragment'>
              Stage files and hunks with
              <span class='ms'>git add</span>
              and
              <span class='ms'>git add --patch</span>
            </li>
            <li class='fragment'>
              <span class='ms'>git commit -m "My commit message"</span>
            </li>
            <li class='fragment'>
              Open your editor and include the comments of the commit's tree:
            </li>
            <li class='fragment'>
              <span class='ms'>git commit -v</span>
            </li>
          </ul>
        </section>
        <section>
          <h3 class='ms'>git commit -v</h3>
          <code><pre>Remove comments from Gemfile&#x000A;# Please enter the commit message for your changes. Lines starting&#x000A;# with '#' will be ignored, and an empty message aborts the commit.&#x000A;# On branch master&#x000A;# Changes to be committed:&#x000A;# modified:   Gemfile&#x000A;#&#x000A;# ------------------------ >8 ------------------------&#x000A;# Do not touch the line above.&#x000A;# Everything below will be removed.&#x000A;diff --git a/Gemfile b/Gemfile&#x000A;index 45e30c6..c20f939 100644&#x000A;--- a/Gemfile&#x000A;+++ b/Gemfile&#x000A;@@ -1,47 +1,22 @@&#x000A; source 'https://rubygems.org'&#x000A;-&#x000A;-# Bundle edge Rails instead: gem 'rails', github: 'rails/rails'&#x000A; gem 'rails', '4.2.0'&#x000A;-# Use sqlite3 as the database for Active Record&#x000A; gem 'sqlite3'&#x000A;-# Use SCSS for stylesheets&#x000A; gem 'sass-rails', '~> 5.0'&#x000A;-# Use Uglifier as compressor for JavaScript assets&#x000A; gem 'uglifier', '>= 1.3.0'&#x000A;-# Use CoffeeScript for .coffee assets and views&#x000A; gem 'coffee-rails', '~> 4.1.0'&#x000A;-# See https://github.com/sstephenson/execjs#readme for more supported runtimes&#x000A;-# gem 'therubyracer', platforms: :ruby&#x000A; group :production do&#x000A;   gem 'pg'&#x000A; end</pre></code>
        </section>
        <section>
          <h3 class='ms'>git rebase --interactive</h3>
          <ul>
            <li class='fragment'>
              Re-write history: reorder commits, edit commits in the past, remove commits
            </li>
            <li class='fragment'>
              Any time you change a commit, you change its SHA-1
            </li>
            <li class='fragment'>
              Which means its children need to be re-written to point to the new SHA-1
            </li>
            <li class='fragment'>
              <code><pre>$ git log --oneline&#x000A;* bc9f9f5 (HEAD, master) Remove comments from Gemfile&#x000A;* 6c8cd70 Add bootstrap to and scss'ed application.scss&#x000A;* 67ee28d Initial db/schema.rb&#x000A;* 78e5e7a Add scaffolding for Tweet&#x000A;* 2328d04 Add bootstrap, haml, remove spring&#x000A;* 9ba1482 rails new TwitterClone&#x000A;$ git rebase -i 2328d04</pre></code>
            </li>
          </ul>
        </section>
        <section>
          <h3 class='ms'>git rebase --interactive</h3>
          <code><pre>$ git log --oneline&#x000A;* bc9f9f5 (HEAD, master) Remove comments from Gemfile&#x000A;* 6c8cd70 Add bootstrap to and scss'ed application.scss&#x000A;* 67ee28d Initial db/schema.rb&#x000A;* 78e5e7a Add scaffolding for Tweet&#x000A;* 2328d04 Add bootstrap, haml, remove spring&#x000A;* 9ba1482 rails new TwitterClone&#x000A;<br />&#x000A;$ git rebase -i 2328d04&#x000A;pick 78e5e7a Add scaffolding for Tweet&#x000A;fixup 67ee28d Initial db/schema.rb&#x000A;pick bc9f9f5 Remove comments from Gemfile&#x000A;pick 6c8cd70 Add bootstrap to and scss'ed application.scss&#x000A;<br />&#x000A;# Rebase 2328d04..bc9f9f5 onto 2328d04&#x000A;#&#x000A;# Commands:&#x000A;#  p, pick = use commit&#x000A;#  r, reword = use commit, but edit the commit message&#x000A;#  e, edit = use commit, but stop for amending&#x000A;#  s, squash = use commit, but meld into previous commit&#x000A;#  f, fixup = like "squash", but discard this commit's log message&#x000A;#  x, exec = run command (the rest of the line) using shell&#x000A;#&#x000A;# These lines can be re-ordered; they are executed from top to bottom.&#x000A;#&#x000A;# If you remove a line here THAT COMMIT WILL BE LOST.&#x000A;#&#x000A;# However, if you remove everything, the rebase will be aborted.&#x000A;#&#x000A;# Note that empty commits are commented out</pre></code>
        </section>
        <section>
          <h3 class='ms'>git rebase --interactive</h3>
          <ul>
            <li class='fragment'>
              After saving/quitting from
              <span class='ms'>git rebase -i,</span>
              the SHA-1 of "Add scaffolding for Tweet" and every child of that
              has been updated
            </li>
            <li class='fragment'>
              <code><pre># before&#x000A;$ git log --oneline&#x000A;bc9f9f5 (HEAD, master) Remove comments from Gemfile&#x000A;6c8cd70 Add bootstrap to and scss'ed application.scss&#x000A;67ee28d Initial db/schema.rb&#x000A;78e5e7a Add scaffolding for Tweet&#x000A;2328d04 Add bootstrap, haml, remove spring&#x000A;9ba1482 rails new TwitterClone&#x000A;<br />&#x000A;# after&#x000A;$ git log --oneline&#x000A;61b6221 (HEAD, master) Add bootstrap to and scss'ed application.scss&#x000A;74788ff Remove comments from Gemfile&#x000A;acb9b7f Add scaffolding for Tweet&#x000A;2328d04 Add bootstrap, haml, remove spring&#x000A;9ba1482 rails new TwitterClone</pre></code>
            </li>
          </ul>
        </section>
        <section>
          <h3>When and when not to re-write history</h3>
          <ul>
            <li class='fragment'>
              Do: use it to organize your commits in your local branch
            </li>
            <li class='fragment'>
              Don't: re-write history of a public branch
            </li>
            <li class='fragment'>
              Especially don't: re-write history of
              <span class='ms'>master</span>
            </li>
            <li class='fragment'>
              Although do: re-write
              <span class='ms'>master</span>
              if you need to remove confidential information from the repo
            </li>
          </ul>
        </section>
        <section>
          <h3>Where did the commits go?</h3>
          <ul>
            <li class='fragment'>
              After re-writing history with
              <span class='ms'>git rebase -i,</span>
              our code changes now have different SHA-1s
            </li>
            <li class='fragment'>
              Still in the object model
              <span class='ms'>(.git/objects)</span>
            </li>
            <li class='fragment'>
              Unless referenced in another branch, considered a "dangling commit"
            </li>
            <li class='fragment'>
              <code><pre>$ git fsck --full&#x000A;Checking object directories: 100% (256/256), done.&#x000A;dangling commit 1697714d585a6273efc98042eb3041c272d83377&#x000A;dangling blob a84806f040fbaad43f7bb5bc506b6a32575abe89</pre></code>
            </li>
            <li class='fragment'>
              Stays in object model until you run:
              <code><pre>git reflog expire --expire=now --all&#x000A;git gc --prune=now</pre></code>
            </li>
          </ul>
        </section>
        <section>
          <h3 class='ms'>git reflog</h3>
          <ul>
            <li class='fragment'>
              Mechanism to record when the tip of branches are updated
            </li>
            <li class='fragment'>
              <code><pre>$ git reflog&#x000A;bc9f9f5 (HEAD, master) HEAD@{0}: reset: moving to bc9f9f5&#x000A;acb9b7f HEAD@{1}: reset: moving to HEAD^^&#x000A;61b6221 HEAD@{2}: rebase -i (finish): returning to refs/heads/master&#x000A;61b6221 HEAD@{3}: rebase -i (pick): Add bootstrap to and scss'ed application.scss&#x000A;74788ff HEAD@{4}: rebase -i (pick): Remove comments from Gemfile&#x000A;acb9b7f HEAD@{5}: rebase -i (fixup): Add scaffolding for Tweet&#x000A;78e5e7a HEAD@{6}: rebase -i (start): checkout 2328d04&#x000A;bc9f9f5 (HEAD, master) HEAD@{7}: commit: Remove comments from Gemfile&#x000A;6c8cd70 HEAD@{8}: reset: moving to 6c8cd70&#x000A;67ee28d HEAD@{9}: reset: moving to HEAD^&#x000A;6c8cd70 HEAD@{10}: commit: Add bootstrap to and scss'ed application.scss&#x000A;67ee28d HEAD@{11}: reset: moving to 67ee28d&#x000A;2328d04 HEAD@{12}: reset: moving to HEAD^^&#x000A;67ee28d HEAD@{13}: checkout: moving from grant/style-new to master&#x000A;28bbd41 (grant/style-new) HEAD@{14}: commit: Convert tweet#new, tweet#form to Bootstrap&#x000A;67ee28d HEAD@{15}: checkout: moving from master to grant/style-new&#x000A;67ee28d HEAD@{16}: checkout: moving from adam/style-index to master&#x000A;ddf0c20 (adam/style-index) HEAD@{17}: commit: Add styling to tweet#index&#x000A;67ee28d HEAD@{18}: reset: moving to master&#x000A;b7eabfc HEAD@{19}: commit (amend): Initial db/schema.rb (revised)&#x000A;67ee28d HEAD@{20}: checkout: moving from master to adam/style-index&#x000A;67ee28d HEAD@{21}: commit: Initial db/schema.rb&#x000A;78e5e7a HEAD@{22}: commit: Add scaffolding for Tweet&#x000A;2328d04 HEAD@{23}: commit: Add bootstrap, haml, remove spring&#x000A;9ba1482 HEAD@{24}: commit (initial): rails new TwitterClone</pre></code>
            </li>
          </ul>
        </section>
        <section>
          <h3>Dealing with merge conflicts</h3>
          <ul>
            <li class='fragment'>
              Two branches from master each with one commit
              <img src='assets/merge-conflict-1.jpg' />
            </li>
            <li class='fragment'>
              To merge
              <span class='ms'>a,</span>
              master is simply fast-forwarded to a
              <img src='assets/merge-conflict-2.jpg' />
            </li>
          </ul>
        </section>
        <section>
          <h3>Dealing with merge conflicts</h3>
          <ul>
            <li class='fragment'>
              This works because the parent of
              <span class='ms'>a</span>
              is the same in the branch and master
            </li>
            <li class='fragment'>
              What about
              <span class='ms'>b?</span>
              <img src='assets/merge-conflict-3.jpg' />
            </li>
            <li class='fragment'>
              Two solutions: merge commit or rebase
            </li>
          </ul>
        </section>
        <section>
          <h3>Merge commits</h3>
          <ul>
            <li class='fragment'>
              Differ from normal commit in that it has two parents
            </li>
            <li class='fragment'>
              <span class='ms'>git checkout master ; git merge b</span>
            </li>
            <li class='fragment'>
              Because
              <span class='ms'>a</span>
              was merged into
              <span class='ms'>master, master</span>
              is no longer a direct ancestor of
              <span class='ms'>b</span>
              (like it was when the branch was created)
            </li>
            <li class='fragment'>
              git performs a 3-way merge, using the closest common ancestor
              and the two trees associated
              <span class='ms'>master</span>
              and
              <span class='ms'>b</span>
            </li>
          </ul>
        </section>
        <section>
          <h3>Merge commits</h3>
          <code><pre>$ git branch -v&#x000A;  adam/style-index ddf0c20 Add styling to tweet#index&#x000A;* master           bc9f9f5 Remove comments from Gemfile&#x000A;<br />&#x000A;$ git log --oneline&#x000A;bc9f9f5 (HEAD, master) Remove comments from Gemfile&#x000A;6c8cd70 Add bootstrap to and scss'ed application.scss&#x000A;67ee28d Initial db/schema.rb&#x000A;78e5e7a Add scaffolding for Tweet&#x000A;2328d04 Add bootstrap, haml, remove spring&#x000A;9ba1482 rails new TwitterClone&#x000A;<br />&#x000A;$ git log --oneline adam/style-index&#x000A;ddf0c20 (adam/style-index) Add styling to tweet#index&#x000A;67ee28d Initial db/schema.rb&#x000A;78e5e7a Add scaffolding for Tweet&#x000A;2328d04 Add bootstrap, haml, remove spring&#x000A;9ba1482 rails new TwitterClone&#x000A;<br />&#x000A;$ git merge adam/style-index&#x000A;Merge made by the 'recursive' strategy.&#x000A; app/views/tweets/index.html.haml | 32 +++++++++++---------------------&#x000A; 1 file changed, 11 insertions(+), 21 deletions(-)&#x000A;<br />&#x000A;$ git show --format=raw&#x000A;commit d9010f8f6f9e82360089a28d7402f94c4c969c4b&#x000A;tree b33431aa9e4bf5e7c28dc40ea81565fb69c8b245&#x000A;<b>parent bc9f9f554e8491fe1c71de0ae21d1d194314f611</b>&#x000A;<b>parent ddf0c201a8d3c584d87a519b10348baaf325b131</b>&#x000A;author Adam Derewecki <derewecki@gmail.com> 1427692665 -0700&#x000A;committer Adam Derewecki <derewecki@gmail.com> 1427692665 -0700&#x000A;<br />&#x000A;    Merge branch 'adam/style-index'</pre></code>
        </section>
        <section>
          <h3>Merge commits</h3>
          <code><pre>$ git log --oneline --graph&#x000A;*   d9010f8 (HEAD, master) Merge branch 'adam/style-index'&#x000A;|\&#x000A;| * ddf0c20 (adam/style-index) Add styling to tweet#index&#x000A;* | bc9f9f5 Remove comments from Gemfile&#x000A;* | 6c8cd70 Add bootstrap to and scss'ed application.scss&#x000A;|/&#x000A;* 67ee28d Initial db/schema.rb&#x000A;* 78e5e7a Add scaffolding for Tweet&#x000A;* 2328d04 Add bootstrap, haml, remove spring&#x000A;* 9ba1482 rails new TwitterClone</pre></code>
        </section>
        <section>
          <h3>Rebasing</h3>
          <ul>
            <li class='fragment'>
              Merge commits are non-destructive; they don't re-write history
            </li>
            <li class='fragment'>
              Rebasing re-writes the history of your branch so that it merges
              in as a fast-forward
            </li>
            <li class='fragment'>
              When
              <span class='ms'>a</span>
              branched,
              <span class='ms'>master'</span>
              was the parent of
              <span class='ms'>a</span>
            </li>
            <li class='fragment'>
              After rebasing onto
              <span class='ms'>master,</span>
              the first commit of the branch now has
              <span class='ms'>master</span>
              as the parent
            </li>
            <li class='fragment'>TODO graphic</li>
          </ul>
        </section>
        <section>
          <h3>Rebasing</h3>
          <code><pre>$ git branch -v&#x000A;  adam/style-index ddf0c20 Add styling to tweet#index&#x000A;  grant/style-new  28bbd41 Convert tweet#new, tweet#form to Bootstrap&#x000A;* master           bc9f9f5 Remove comments from Gemfile&#x000A;<br />&#x000A;$ git checkout adam/style-index&#x000A;Switched to branch 'adam/style-index'&#x000A;<br />&#x000A;$ git log --oneline&#x000A;ddf0c20 (HEAD, adam/style-index) Add styling to tweet#index&#x000A;67ee28d Initial db/schema.rb&#x000A;78e5e7a Add scaffolding for Tweet&#x000A;2328d04 Add bootstrap, haml, remove spring&#x000A;9ba1482 rails new TwitterClone&#x000A;<br />&#x000A;$ git rebase master&#x000A;First, rewinding head to replay your work on top of it...&#x000A;Applying: Add styling to tweet#index&#x000A;<br />&#x000A;$ git log --oneline&#x000A;36dd035 (HEAD, adam/style-index) Add styling to tweet#index&#x000A;bc9f9f5 (master) Remove comments from Gemfile&#x000A;6c8cd70 Add bootstrap to and scss'ed application.scss&#x000A;67ee28d Initial db/schema.rb&#x000A;78e5e7a Add scaffolding for Tweet&#x000A;2328d04 Add bootstrap, haml, remove spring&#x000A;9ba1482 rails new TwitterClone</pre></code>
        </section>
        <section>
          <h3 class='ms'>git cherry-pick</h3>
          <code><pre>git log --oneline&#x000A;ddf0c20 (HEAD, adam/style-index) Add styling to tweet#index&#x000A;67ee28d Initial db/schema.rb&#x000A;78e5e7a Add scaffolding for Tweet&#x000A;2328d04 Add bootstrap, haml, remove spring&#x000A;9ba1482 rails new TwitterClone&#x000A;<br />&#x000A;$ git checkout master&#x000A;Switched to branch 'master'&#x000A;<br />&#x000A;$ git cherry-pick adam/style-index&#x000A;[master 2c75ffc] Add styling to tweet#index&#x000A; 1 file changed, 15 insertions(+), 25 deletions(-)&#x000A; rewrite app/views/tweets/index.html.haml (91%)&#x000A;<br />&#x000A;$ git log --oneline&#x000A;2c75ffc (HEAD, master) Add styling to tweet#index&#x000A;bc9f9f5 Remove comments from Gemfile&#x000A;6c8cd70 Add bootstrap to and scss'ed application.scss&#x000A;67ee28d Initial db/schema.rb&#x000A;78e5e7a Add scaffolding for Tweet&#x000A;2328d04 Add bootstrap, haml, remove spring&#x000A;9ba1482 rails new TwitterClone</pre></code>
        </section>
        <section>
          <h3>Cherry picking and interactive rebasing</h3>
          <ul>
            <li class='fragment'>
              With
              <span class='ms'>git rebase -i,</span>
              we saw a list of commits with 'pick' as the default action
            </li>
            <li class='fragment'>
              You can start an interactive rebase and add
              <i>any</i>
              new commits you want as 'pick'
            </li>
            <li class='fragment'>
              <span class='ms'>cherry-pick</span>
              is a special-case shortcut for when you only have one commit you
              want to merge in
            </li>
          </ul>
        </section>
        <section>
          <h2>Using git effectiely</h2>
          <h4>
            <div class='live'>
              Live
              <a href='is.gd/derwiki_git'>
                is.gd/derwiki_git
              </a>
            </div>
            <div class='source'>
              Source
              <a href='//github.com/derwiki/presentation-git'>
                github.com/derwiki/presentation-git
              </a>
            </div>
          </h4>
          <br />
          <h5>presented by</h5>
          <h4>@derwiki</h4>
          <h4></h4>
          <h4>for AdRoll, March 31, 2015</h4>
        </section>
      </div>
      <!--
        required for correct operation of reveal.js,
        even if we don't want controls
      -->
      <aside class='controls'>
        <a class='left' href='#'>&#x25c4;</a>
        <a class='right' href='#'>&#x25ba;</a>
        <a class='up' href='#'>&#x25b2;</a>
        <a class='down' href='#'>&#x25bc;</a>
      </aside>
    </div>
    <script src='reveal/js/reveal.min.js'></script>
    <script src='highlight/build/highlight.pack.js'></script>
    <script type='text/javascript'>
      //<![CDATA[
        Reveal.initialize({
          controls: false,
          progress: false,
          history: true,
          mouseWheel: false,
          rollingLinks: false,
        });
        hljs.initHighlightingOnLoad();
      //]]>
    </script>
  </body>
</html>
